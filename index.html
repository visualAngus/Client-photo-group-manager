<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Bal de promo</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="titre"> Bal 2023-2024 </div>
    <div class="info_profil">
        <a>Cliquez sur l'image pour changer la photo de profil.</a>
    </div>
    <div class="photo">
        <a href="#" onclick="openFileDialog()">
        <img id="previewImage" src="profil vide.jpg" alt="Aperçu de l'image">
        </a>
        <input id="myFileInput" type="file" accept="image/*;capture=camera" style="display: none;">
      </div>
    <div class="infos">
        <h2 class="info_titre">Informations sur le groupe</h2>

        <label class="titre_info" for="nom">Nom / nom du groupe : </label>
        <input class="input_info" type="text" id="nom" name="nom" required>
        <a id="obligatoire">*</a>
        <div class="barre"></div>

        <label class="titre_info" for="contact">contact : </label>
        <a class="insta_num">(remplissez au moins une des deux cases suivantes)</a>
        <a id="obligatoire">*</a>
        <div class="espace"></div>

        <label class="titre_info" for="insta">1- Instagram : </label>
        <input class="input_info" type="text" id="insta" name="insta" required>
        <div class="espace"></div>
        <label class="titre_info" for="tel">2- Téléphone : </label>
        <input class="input_info" type="tel" id="tel" name="tel" required>
        <div class="barre"></div>
    </div>
    <div class="final">
        <button class="bouton" type="submit">Créer mon groupe</button>
    </div>
    <script>
        const fileInput = document.getElementById('myFileInput');
        const previewImage = document.getElementById('previewImage');

        function openFileDialog() {
            fileInput.click();
        }

        fileInput.addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    previewImage.src = e.target.result;
                }
                reader.readAsDataURL(file);
            } else {
                previewImage.src = "profil vide.jpg";
            }
        });

        document.querySelector('.bouton').addEventListener('click', function () {
            // Retrieve the entered data
            const nom = document.getElementById('nom').value;
            const insta = document.getElementById('insta').value;
            const tel = document.getElementById('tel').value;
            if (nom === '') {
                alert('Veuillez remplir le champ "Nom".');
            } else if (insta === '' && tel === '') {
                alert('Veuillez remplir au moins le champ "Instagram" ou le champ "Téléphone".');
                document.getElementById('nom').value = nom;
                document.getElementById('insta').focus();
            } else if (tel !== '' && !/^(\+\d{1,3}\s?)?(\(\d{1,3}\)\s?)?\d{1,4}(\s?\d{1,4}){1,3}$/.test(tel)) {
                alert('Le format du numéro de téléphone est incorrect.');
                document.getElementById('tel').focus();
            } else if (nom.length <= 2) {
                alert('Le nom du groupe doit contenir plus de 2 caractères.');
            } else {

                // window.open("nb_groupe.html");
            }
        });
    </script>

</body>
</html>